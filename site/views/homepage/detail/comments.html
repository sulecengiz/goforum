{{ define "renderComment" }}
{{ range . }}
<style>
    .comment-content{
        word-break: break-word;
    }
    .comment-mention {
        font-weight: bold;
        color: #007bff;
        margin-right: 5px;
    }
</style>
<div class="comment-with-avatar">
    <div class="comment-avatar">
        {{ substr .Name 0 1 | upper }}
    </div>
    <div class="comment-body">
        <div class="comment-header">
            <span class="comment-author">{{ .Name }}</span>
        </div>

        <div class="comment-content">
            {{ if .ParentName }}
            <span class="comment-mention">@{{ .ParentName }}</span>
            {{ end }}
            {{ .Comment }}
        </div>

        <div class="comment-actions">
            <!-- Her yorum için (template içinde tekrar eden kısım) -->
            <button class="comment-action-btn like-btn me-2" data-comment-id="{{ .ID }}">
                <i class="far fa-heart like-icon" id="like-icon-{{ .ID }}"></i>
            </button>

            <button class="comment-action-btn reply-btn" data-comment-id="{{ .ID }}" data-reply-to="{{ .Name }}"><i class="fas fa-reply"></i></button>
            <span class="comment-date">{{ .CreatedAt.Format "02.01.2006 15:04" }}</span>

            {{ if .Replies }}
            <button class="toggle-replies-btn" data-target="replies-{{ .ID }}">
                {{ len .Replies }} replies
            </button>
            {{ end }}
        </div>

        {{ if .Replies }}
        <div id="replies-{{ .ID }}" class="replies-container" style="display: none;">
            <div class="reply-comment">
                {{ template "renderComment" .Replies }}
            </div>
        </div>
        {{ end }}
    </div>
</div>
{{ end }}
{{ end }}