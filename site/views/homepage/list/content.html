{{ define "content" }}
<style>
    .list-group-item.active1 {
        background-color: rgba(138, 109, 59, 0.27) !important;
        border-color: rgba(138, 109, 59, 0.27) !important;
        z-index: 2;
        color: white;
    }
    .list-group-item :hover {
        text-decoration: none !important;
        color: #44549e !important;
    }
    .post-preview {
        position:relative;
        padding-bottom:32px;
        margin-bottom:18px;
    }
    .post-preview h2 {
        margin-bottom:6px;
    }
    .post-preview h3 {
        font-size:1rem;
        font-weight:400;
        color:#555;
        margin-bottom:8px;
    }
    .author-box {
        position:absolute;
        right:0;
        bottom:0;
        display:flex;
        align-items:center;
        gap:6px;
        font-size:0.75rem;
        color:#444;
    }
    .author-box .avatar {
        width:30px;
        height:30px;
        border-radius:50%;
        background: rgba(113, 97, 91, 0.47);
        display:flex;
        align-items:center;
        justify-content:center;
        font-weight:600;
        font-size:0.75rem;
        color:#222;
    }
    .author-box strong {
        font-weight:700;
    }
    .post-meta {
        font-size:0.75rem;
        color:#777;
        margin:0;
    }
    hr {
        margin: 0 0 12px 0;
    }
</style>
<!-- Page Header-->
<header class="masthead" style="background-image: url('/assets/assets/img/home-bg.jpeg')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="site-heading">
          <h1>GoBlog</h1>
          <span class="subheading">Welcome to GoBlog</span>
        </div>
      </div>
    </div>
  </div>
</header>
<!-- Main Content-->
<div class="px-5 mb-5">
  <div class="row">
      <div class="col-lg-4 col-md-2 mx-auto">
      <header class="mx-2 my-4">
          <i class="fa fa-list-ul"></i>
            <span class="h4"> Kategoriler</span>
      </header>

      <ul class="list-group list-group-flush w-50">
          {{ range $index, $value := .Categories }}
          <li class="list-group-item d-flex justify-content-between align-items-center {{ if and $.ActiveCategory (eq $.ActiveCategory.ID $value.ID) }}active1{{ end }}">
              <a href="/kategori/{{ $value.Slug }}">{{ $value.Title }}</a>
              <span class="badge badge-primary badge-pill" style="background-color: rgba(138,109,59,0.82)">{{ index $.totalCategoryPosts $value.Title }}</span>
          </li>
          {{ end }}
      </ul>
      </div>

      <div class="col-lg-8 col-md-10 mx-auto">
      {{ range $index,$value := .Posts }}
      {{ $author := getUser $value.AuthorID }}
      <div class="post-preview">
        <a href="/yazilar/{{ $value.Slug }}">
          <h2 class="post-title">{{ $value.Title }}</h2>
          <h3 class="post-subtitle">{{ $value.Description }}</h3>
        </a>
        <p class="post-meta">
          {{ getDate $value.CreatedAt }} - {{ getCategory $value.CategoryID }}
        </p>
        <div class="author-box">
            {{ if isAdmin $value.AuthorID }}
              <div class="avatar" title="Admin">A</div>
              <span><strong>Admin</strong></span>
            {{ else }}
              <div class="avatar" title="{{$author.Username}}">{{ if $author.Username }}{{ printf "%c" (index $author.Username 0) | upper }}{{ else }}?{{ end }}</div>
              <span>{{$author.Username}}</span>
            {{ end }}
        </div>
      </div>
      <hr />
      {{ end }}
    </div>
  </div>
</div>
{{ end }}